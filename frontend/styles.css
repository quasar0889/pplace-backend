* { box-sizing: border-box; }
html, body { height: 100%; margin: 0; font-family: system-ui, -apple-system, Segoe UI, Roboto, Noto Sans, "ヒラギノ角ゴ ProN", "メイリオ", sans-serif; }
.app { display: grid; grid-template-rows: auto 1fr; height: 100%; }
header { display: flex; justify-content: space-between; align-items: center; padding: 8px 12px; border-bottom: 1px solid #eee; }
main { display: grid; grid-template-columns: 240px 1fr; height: 100%; }
.tools { border-right: 1px solid #eee; padding: 12px; overflow: auto; }
.tools .section { margin-bottom: 16px; }
.tools input[type="color"] { width: 100%; height: 40px; padding: 0; border: 1px solid #ddd; border-radius: 8px; }
.tools .palette { display: grid; grid-template-columns: repeat(8, 1fr); gap: 6px; margin-top: 8px; }
.tools .palette button { width: 100%; aspect-ratio: 1; border: 1px solid #ccc; border-radius: 6px; cursor: pointer; }
.tools .hint { color: #666; font-size: 12px; }
.stage { position: relative; display: grid; grid-template-rows: 1fr auto; }
.canvas-wrap { position: relative; width: 100%; height: calc(100vh - 120px); background: #fafafa; }
#canvas, #overlay { position: absolute; inset: 0; width: 100%; height: 100%; image-rendering: pixelated; }
#overlay { pointer-events: none; }
.status { padding: 6px 10px; border-top: 1px solid #eee; display: flex; gap: 12px; color: #555; }
.minimap { position: absolute; bottom: 16px; right: 16px; padding: 6px; background: rgba(255,255,255,0.9); border: 1px solid #ddd; border-radius: 8px; box-shadow: 0 2px 8px rgba(0,0,0,0.08); }
#minimap { width: 128px; height: 128px; image-rendering: pixelated; }
button { cursor: pointer; }
input#serverInput { width: 100%; padding: 8px; border: 1px solid #ddd; border-radius: 6px; }
#connectBtn, #resetView { width: 100%; padding: 8px; border: 1px solid #ddd; background: #fff; border-radius: 6px; }
.server { color: #666; font-size: 14px; }
